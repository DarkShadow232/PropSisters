<%- include('../partials/header') %>

<% if (error && error.length > 0) { %>
  <div class="alert alert-danger alert-dismissible fade show" role="alert">
    <%= error[0] %>
    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
  </div>
<% } %>

<div class="row mb-4">
  <div class="col">
    <h1 class="h3 mb-0">
      <i class="bi bi-plus-circle"></i> Create New Property
    </h1>
    <p class="text-muted">Add a new rental property to the system</p>
  </div>
</div>

<form action="/properties/create" method="POST" enctype="multipart/form-data">
  <div class="row">
    <div class="col-lg-8">
      <div class="card border-0 shadow-sm mb-4">
        <div class="card-header bg-white">
          <h5 class="mb-0">Property Information</h5>
        </div>
        <div class="card-body">
          <div class="mb-3">
            <label for="title" class="form-label">Property Title <span class="text-danger">*</span></label>
            <input type="text" class="form-control" id="title" name="title" required 
                   placeholder="e.g., Luxury 2BR Apartment in Downtown">
          </div>

          <div class="mb-3">
            <label for="description" class="form-label">Description <span class="text-danger">*</span></label>
            <textarea class="form-control" id="description" name="description" rows="5" required
                      placeholder="Detailed description of the property..."></textarea>
          </div>

          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="location" class="form-label">Location/City <span class="text-danger">*</span></label>
              <input type="text" class="form-control" id="location" name="location" required
                     placeholder="e.g., Cairo">
            </div>
            <div class="col-md-6 mb-3">
              <label for="address" class="form-label">Full Address <span class="text-danger">*</span></label>
              <input type="text" class="form-control" id="address" name="address" required
                     placeholder="Full street address">
            </div>
          </div>

          <div class="row">
            <div class="col-md-4 mb-3">
              <label for="price" class="form-label">Price per Night ($) <span class="text-danger">*</span></label>
              <input type="number" class="form-control" id="price" name="price" step="0.01" min="0" required
                     placeholder="150">
            </div>
            <div class="col-md-4 mb-3">
              <label for="bedrooms" class="form-label">Bedrooms</label>
              <input type="number" class="form-control" id="bedrooms" name="bedrooms" min="0" value="1">
            </div>
            <div class="col-md-4 mb-3">
              <label for="bathrooms" class="form-label">Bathrooms</label>
              <input type="number" class="form-control" id="bathrooms" name="bathrooms" min="0" value="1">
            </div>
          </div>

          <div class="mb-3">
            <label for="amenities" class="form-label">Amenities</label>
            <input type="text" class="form-control" id="amenities" name="amenities"
                   placeholder="WiFi, Air Conditioning, Parking (comma-separated)">
            <small class="form-text text-muted">Separate amenities with commas</small>
          </div>

          <div class="mb-3">
            <label for="images" class="form-label">Property Images</label>
            <input type="file" class="form-control" id="images" name="images" multiple accept="image/*">
            <small class="form-text text-muted">You can select multiple images</small>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-4">
      <div class="card border-0 shadow-sm mb-4">
        <div class="card-header bg-white">
          <h5 class="mb-0">Owner Information</h5>
        </div>
        <div class="card-body">
          <div class="mb-3">
            <label for="ownerName" class="form-label">Owner Name</label>
            <input type="text" class="form-control" id="ownerName" name="ownerName"
                   placeholder="Property owner name">
          </div>

          <div class="mb-3">
            <label for="ownerEmail" class="form-label">Owner Email</label>
            <input type="email" class="form-control" id="ownerEmail" name="ownerEmail"
                   placeholder="owner@example.com">
          </div>

          <div class="mb-3">
            <label for="ownerPhone" class="form-label">Owner Phone</label>
            <input type="tel" class="form-control" id="ownerPhone" name="ownerPhone"
                   placeholder="+1234567890">
          </div>
        </div>
      </div>

      <div class="card border-0 shadow-sm mb-4">
        <div class="card-header bg-white">
          <h5 class="mb-0">Property Settings</h5>
        </div>
        <div class="card-body">
          <div class="mb-3">
            <label for="priority" class="form-label">Priority Level</label>
            <select class="form-select" id="priority" name="priority">
              <option value="0">Normal (0)</option>
              <option value="1">Low (1)</option>
              <option value="2">Medium (2)</option>
              <option value="3">High (3)</option>
              <option value="4">Very High (4)</option>
              <option value="5">Premium (5)</option>
              <option value="6">Featured (6)</option>
              <option value="7">Top Featured (7)</option>
              <option value="8">VIP (8)</option>
              <option value="9">Ultimate (9)</option>
              <option value="10">Company Priority (10)</option>
            </select>
            <small class="form-text text-muted">Higher priority properties appear first</small>
          </div>

          <div class="mb-3">
            <label for="status" class="form-label">Property Status</label>
            <select class="form-select" id="status" name="status">
              <option value="active">Active</option>
              <option value="pending">Pending</option>
              <option value="inactive">Inactive</option>
              <option value="maintenance">Under Maintenance</option>
              <option value="sold">Sold</option>
            </select>
          </div>

          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="availability" name="availability" 
                   value="true" checked>
            <label class="form-check-label" for="availability">
              Property is available for booking
            </label>
          </div>
        </div>
      </div>

      <div class="d-grid gap-2">
        <button type="submit" class="btn btn-primary btn-lg">
          <i class="bi bi-check-circle"></i> Create Property
        </button>
        <a href="/properties" class="btn btn-outline-secondary">
          <i class="bi bi-x-circle"></i> Cancel
        </a>
      </div>
    </div>
  </div>
</form>

<%- include('../partials/footer') %>

